#!/bin/sh

PLATFORM=`uname -s`

set -o nounset
set -o errexit

if [ "xDarwin" = "x$PLATFORM" ]
then
    # OS/X install steps here
    if [ ! -x /usr/bin/mono ]
    then
        curl -O http://download.mono-project.com/archive/3.6.0/macos-10-x86/MonoFramework-MDK-3.6.0.macos10.xamarin.x86.pkg
        sudo /usr/sbin/installer -pkg MonoFramework-MDK-3.6.0.macos10.xamarin.x86.pkg -target /
    fi
else
    # Assume ubuntu/debian
    # http://www.mono-project.com/docs/getting-started/install/linux/#debian-ubuntu-and-derivatives
    export DEBIAN_FRONTEND=noninteractive
    sudo apt-key adv --keyserver pgp.mit.edu --recv-keys 3FA7E0328081BFF6A14DA29AA6A19B38D3D831EF
    apt-add-repository --yes 'deb http://download.mono-project.com/repo/debian wheezy main'
    sudo apt-add-repository --yes 'deb http://download.mono-project.com/repo/debian wheezy-libtiff-compat main'
    sudo apt-get -y -o Dpkg::Options::='--force-confdef' -o Dpkg::Options::='--force-confold' install git mono-devel mono-tools-devel
fi

